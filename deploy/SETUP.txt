â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ ĞŸĞ•Ğ Ğ’ĞĞĞĞ§ĞĞ›Ğ¬ĞĞĞ¯ ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ Ğ¡Ğ•Ğ Ğ’Ğ•Ğ Ğ (ĞĞ”Ğ˜Ğ Ğ ĞĞ—)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹ Ğ’Ğ•Ğ¡Ğ¬ Ğ±Ğ»Ğ¾Ğº Ğ¸ Ğ²ÑÑ‚Ğ°Ğ²ÑŒ Ğ² Ğ²ĞµĞ±-ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ Timeweb:

systemctl stop smartfinances 2>/dev/null; pkill -9 -f "python.*main.py" 2>/dev/null; sleep 2; cat > /var/www/smartfinances/google_credentials.json << 'EOF'
{
  "type": "service_account",
  "project_id": "rich-uncle-scrooge",
  "private_key_id": "9a8c29733c56c9ef8eb7bc53b79459ca176c5a32",
  "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC3PuCjiGBHIsL/\nwpUlpxEE3SlxiB1BSt+MMGTY24Sm5M2svYAPhym+8eeco3LJ79ihiZSSX5SFJEnJ\nz7/fsTAbfvusqnB6CkZRKPd8oTI8HI1xD/++6lkOTQUC5AspMwKSv7Z1dCLtJyLr\nO+O0PcIa7O+2p+yMt717LMIrKzMfNU0fqtm6sk5RJ940Z9SCqC6VvgsCB2IUCpgL\nDQ94g/R/hvN98QFA5q6ksZEw4Y2VYmlTvGVclvyxKFYah/H5VSDBX6+QZ6TE2jrz\nCXfEOErMYmZapvIRu6swpqDkoSVtbYPdiBXV0iMVzf+VB7xEBeFGPBlGV27wYzzT\niJp1cSPXAgMBAAECggEAK2p239gWc5Q9XkqUetTP9/aMdK06vTcHqxfmNOkhz0cD\nogtN9Z/hGLAI37hsIIM2sOM/c8S4lCkKYInb3JyHGOSnrXu+ZXPcwCr0JC+vDsX3\nDxQq1GmCyxwddVdhe5Pt5qYMjVyET+sHX3OTmidNv4Jms0CrD5YTC0WKBZ9ZH+ni\n4YgKbu7JSiF5j7dw3jU4I/aUvm7kRDHUW4Vx7JIDMiP6w8euWdbri6q7QiYKwpl6\n4CbuaIa7A0sMbXjkivBoJjhP9uNWL4xJOB7/OiKM4Q4AmB/GfGDVEN0EUorn/KkG\njyWXs+Z2O9/4Fotq/gyB9xhBqOHZkduPkrk/LXNoKQKBgQDdM96jOZYefZgvO9t5\n6J/u6szZpmceaORQ49sprsP6EaRyrK2T4WK8qhi74j98yRjZPaM+Mm9+oMExYQdT\nxOotL8jJ4MYBUa4bmPUCSXD/4GxhV2g8vTWFjPFuHSICIXJU/TihiNHT8xyOYVmE\nT8KYdf4YKiNG0OPLcrqBy5XGfwKBgQDUEm2BLp1InaUScPoD1kg2SKCTqSMI8vkY\nRFJ+ObrWk3SabO7yQcsYo6Hk3VBVWzmBSYQJUvk2j2JCe6vc4eS/LffWRpjGi0sK\nCS746SuIW7xasWGqvB0zYuWClUHhYZQrYuq67kGzvbt91r5w6JtKiN3qJEQCeMnh\n3QligUXmqQKBgBpUh0bUnvroJkpRDLH5L7hnuJSbyyCCidLbHIZcqDVHDlUcGtlE\nddVRRfpvVvFKmquZO6o2pLDk/7oZ+55MDTftvS/Skp8rktb0IQ3xogLDOwNnPSAl\nwY4xFbfuvdKVGp/lOG159MgO4zJLgjVOrTIqsWE8+s/+I29fK7YxfpWPAoGBAMn3\nWs5iZGwZpnGvoosw8ciw1iyKMdF+BHh16NJJjIR6HdxLzixtOEyY2b+qfa0smdFl\nABgZKzoox31lZkGP6FeiIZux1CGR2r8OC+wFs+3C39jHgaomSPD9SHJaT0mjsoa3\nR7EK4wuYsAyiDPBetjX/rsgkDZkFC87MwPlNABMxAoGBAMAOkn3BRQQY4zgeh63E\nEDu1KyvG34pfXZz7BoMqfvznhGLTAfiABkOdphSxo+D4SxmwMFe0PY9pObAJBDvC\n6I+AOPsIcC+AF+Ng0PFTapYGfnzMbpFKjYpEaZChVRUFwmZ594SbwzX0D769pkpf\nNG545PZla1c4o9GWpQRcRP65\n-----END PRIVATE KEY-----\n",
  "client_email": "rich-uncle-scrooge-bot@rich-uncle-scrooge.iam.gserviceaccount.com",
  "client_id": "106694602768827482990",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/rich-uncle-scrooge-bot%40rich-uncle-scrooge.iam.gserviceaccount.com",
  "universe_domain": "googleapis.com"
}
EOF
cat > /etc/systemd/system/smartfinances.service << 'SVCEOF'
[Unit]
Description=SmartFinances Telegram Bot
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/var/www/smartfinances
Environment="PATH=/var/www/smartfinances/venv/bin"
Environment="GOOGLE_APPLICATION_CREDENTIALS=/var/www/smartfinances/google_credentials.json"

ExecStartPre=-/bin/bash -c '/usr/bin/pkill -9 -f "python.*main.py"; exit 0'
ExecStartPre=/bin/sleep 2
ExecStart=/var/www/smartfinances/venv/bin/python3 /var/www/smartfinances/main.py
ExecStopPost=-/bin/bash -c '/usr/bin/pkill -9 -f "python.*main.py"; exit 0'

Restart=always
RestartSec=10
KillMode=mixed
TimeoutStopSec=10

StandardOutput=append:/var/www/smartfinances/bot.log
StandardError=append:/var/www/smartfinances/bot.log

[Install]
WantedBy=multi-user.target
SVCEOF
chown -R www-data:www-data /var/www/smartfinances; chmod 775 /var/www/smartfinances; chmod 664 /var/www/smartfinances/smartfinances.db 2>/dev/null; chmod 600 /var/www/smartfinances/google_credentials.json; systemctl daemon-reload; systemctl start smartfinances; sleep 5; echo ""; echo "âœ… Ğ“ĞĞ¢ĞĞ’Ğ!"; echo "Ğ‘Ğ¾Ñ‚Ñ‹: $(ps aux | grep 'python.*main.py' | grep -v grep | wc -l)"; systemctl status smartfinances --no-pager | head -6; echo ""; echo "ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹ /sheets_export Ğ² Ğ±Ğ¾Ñ‚Ğµ!"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ­Ğ¢Ğ ĞĞ£Ğ–ĞĞ Ğ¢ĞĞ›Ğ¬ĞšĞ ĞĞ”Ğ˜Ğ Ğ ĞĞ—!
Ğ”Ğ°Ğ»ÑŒÑˆĞµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾: bash deploy/upload.sh
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

