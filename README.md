# SmartFinances ‚Äî Telegram-–±–æ—Ç –¥–ª—è —É—á—ë—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤

–ë–æ—Ç –¥–ª—è —É—á—ë—Ç–∞ –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤ —Å –ò–ò (GPT) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üí∞ –î–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º
- üîÑ –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏ (–≤–∫–ª—é—á–∞—è –∫—Ä–æ—Å—Å-–≤–∞–ª—é—Ç–Ω—ã–µ)
- üìä –û—Ç—á—ë—Ç—ã —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- üîç –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: "–ø–æ—á–µ–º—É –º–Ω–æ–≥–æ –Ω–∞ –∫–æ—Ñ–µ"
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt
cp env.example .env
# –ó–∞–ø–æ–ª–Ω–∏ OPENAI_API_KEY –∏ TELEGRAM_BOT_TOKEN –≤ .env

# –ó–∞–ø—É—Å–∫
python main.py
```

## –î–µ–ø–ª–æ–π

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
bash deploy/upload.sh
```

## Google Sheets

–≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Google –¢–∞–±–ª–∏—Ü—ã.

### –ö–æ–º–∞–Ω–¥—ã:
- `/sheets <—Å—Å—ã–ª–∫–∞>` ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É
- `/sheets_export` ‚Äî –≤—ã–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Google Sheets
- `/sheets_import` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Sheets (–ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞)
- `/sheets reset` ‚Äî –æ—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- **–ë–∞–ª–∞–Ω—Å—ã** ‚Äî —Å—á–µ—Ç–∞ –∏ —Ç–µ–∫—É—â–∏–µ –±–∞–ª–∞–Ω—Å—ã
- **YYYY-MM** ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –º–µ—Å—è—Ü–∞–º —Å –∏—Ç–æ–≥–∞–º–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
1. –°–æ–∑–¥–∞–π service account –≤ Google Cloud
2. –°–∫–∞—á–∞–π JSON –∫–ª—é—á
3. –î–æ–±–∞–≤—å email service account –∫–∞–∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≤ —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É
4. –£–∫–∞–∂–∏ –ø—É—Ç—å –∫ JSON –≤ `.env`: `GOOGLE_APPLICATION_CREDENTIALS=path/to/key.json`


## –ü—Ä–∏–º–µ—Ä—ã

```
+50000 –∑–ø                    # –¥–æ—Ö–æ–¥
–∫–æ—Ñ–µ 320                     # —Ä–∞—Å—Ö–æ–¥ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
—Ç–∞–∫—Å–∏ 500                    # —Ä–∞—Å—Ö–æ–¥ ‚Üí –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç/—Ç–∞–∫—Å–∏
–ø–µ—Ä–µ–≤–µ–¥–∏ 5–∫ —Å –∫–∞—Ä—Ç—ã –Ω–∞ –Ω–∞–ª   # –ø–µ—Ä–µ–≤–æ–¥
–æ—Ç—á–µ—Ç –∑–∞ –Ω–æ—è–±—Ä—å              # –æ—Ç—á—ë—Ç
–ø–æ—á–µ–º—É —Ç–∞–∫ –º–Ω–æ–≥–æ –Ω–∞ –µ–¥—É      # –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
–∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π             # —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
–∏–∑–º–µ–Ω–∏ 3 —Å—É–º–º–∞ 500           # —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å
—É–¥–∞–ª–∏ 5                      # —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
–º–æ–∏ —Å—á–µ—Ç–∞                    # –±–∞–ª–∞–Ω—Å —Å—á–µ—Ç–æ–≤
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
bot/handlers.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Telegram
db/models.py         # SQLAlchemy –º–æ–¥–µ–ª–∏
llm/parser.py        # –ü–∞—Ä—Å–µ—Ä —á–µ—Ä–µ–∑ GPT
services/ledger.py   # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
services/reports.py  # –û—Ç—á—ë—Ç—ã
services/insights.py # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
```

## –¢–µ—Å—Ç—ã

```bash
pytest tests/
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10+, python-telegram-bot
- SQLAlchemy + SQLite
- OpenAI GPT (gpt-4o-mini/gpt-4o)
- Google Sheets API
- Pydantic

## Docker

```bash
docker-compose up -d
```
